<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="application/javascript" src="libs/jquery/jquery-2.1.4.js"></script>
        <script src="libs/bootstrap/js/bootstrap.js" type="text/javascript"></script>
        <link href="libs/bootstrap/css/bootstrap.css" rel="stylesheet"/>
        <link href="css/index.css" rel="stylesheet" type="text/css"/>
        <link href="css/hotel.css" rel="stylesheet"/>
        <script>
            $.ajax({
                url: 'js/Controllers.js',
                dataType: 'script',
                async: false
            });
            $(function () {
                $("#header").load("components/header.html");
            });
        </script> 
        <script>
            $.ajax({
                url: 'js/Time.js',
                dataType: 'script',
                async: false
            });
            $.ajax({
                url: 'js/FlightControl.js',
                dataType: 'script',
                async: false
            });
            var goFlight, backFlight;
            function updateGoFlight() {
                goFlight["takeoffDate"] = _GET["sDate"];
                goFlight["price"] = goFlight["seatTypes"][0]["price"];
                goFlight["tax"] = parseFloat(goFlight["tax"]) * 0.01 * parseFloat(goFlight["price"]);
                goFlight["totalPrice"] = parseFloat(goFlight["price"]) + parseFloat(goFlight["tax"]);

                for (var name in goFlight) {
                    $(".goFlight_" + name).html(goFlight[name]);
                    console.log(name);
                }

                $(".totalPrice").html(parseFloat(goFlight["totalPrice"]) + parseFloat(backFlight["totalPrice"]));
            }

            function updateBackFlight() {
                backFlight["takeoffDate"] = _GET["eDate"];
                backFlight["price"] = backFlight["seatTypes"][0]["price"];
                backFlight["tax"] = parseFloat(backFlight["tax"]) * 0.01 * parseFloat(backFlight["price"]);
                backFlight["totalPrice"] = parseFloat(backFlight["price"]) + parseFloat(backFlight["tax"]);

                for (var name in backFlight) {
                    $(".backFlight_" + name).html(backFlight[name]);
                }

                $(".totalPrice").html(parseFloat(goFlight["totalPrice"]) + parseFloat(backFlight["totalPrice"]));
            }
            $(document).ready(function () {
                var f = Flight.find([new WherePara("flightID", jadbOP.equals, _GET['goFlightID'])])[0];
                var arriveTime = new Time(f["takeoffTime"]);
                arriveTime.add(f["duration"]);
                f["arriveTime"] = arriveTime.toSymbolTime();
                goFlight = f;
                var f = Flight.find([new WherePara("flightID", jadbOP.equals, _GET['backFlightID'])])[0];
                var arriveTime = new Time(f["takeoffTime"]);
                arriveTime.add(f["duration"]);
                f["arriveTime"] = arriveTime.toSymbolTime();
                backFlight = f;

                updateGoFlight();
                updateBackFlight();

                for (var name in _GET) {
                    $("." + name).html(_GET[name]);
                    $("." + name).val(_GET[name]);
                }
            });
        </script>
    </head>
    <body>
        <div id="header"></div>
        <!-- content -->
        <table >
            <tr>
                <td>

                    <div class="mainform"><h3>Passenger Details</h3>
                        <hr class="mainHr"/>
                        <div>
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs" role="tablist">
                                <li role="presentation" class="active"><a href="#Passenger1" aria-controls="Passenger1" role="tab" data-toggle="tab">Passenger 1</a></li>
                                <li role="presentation"><a href="#Passenger2" aria-controls="Passenger2" role="tab" data-toggle="tab">Passenger 2</a></li>
                            </ul>

                            <!-- Tab panes -->
                            <form>
                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="Passenger1">
                                        <div class="inline">
                                            Title*<br/>
                                            <select>
                                                <option p="1" value="Mr" name="title">Mr.</option>
                                                <option p="1" value="Mrs" name="title">Mrs.</option>
                                                <option p="1" value="Ms" name="title">Ms.</option>
                                            </select>
                                        </div>
                                        <div class="inline">
                                            Full Name*<br/>
                                            <input type="text" p="1" name="fName" />
                                            <label>As displayed in your Passport</label>
                                        </div>
                                        <div class="inline">
                                            Grender<br/>
                                            <select>
                                                <option p="1" value="m" name="title">M</option>
                                                <option p="1" value="f" name="title">F</option>
                                            </select>
                                        </div>
                                        <div class="inline">
                                            Brithday<br/>
                                            <input type="date" p="1" name="bod"/>
                                        </div>
                                        <div class="inline">
                                            ID<br/>
                                            <input type="text" p="1" name="id"/>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="Passenger2">
                                        <div class="inline">
                                            Title*<br/>
                                            <select>
                                                <option p="1" value="Mr" name="title">Mr.</option>
                                                <option p="1" value="Mrs" name="title">Mrs.</option>
                                                <option p="1" value="Ms" name="title">Ms.</option>
                                            </select>
                                        </div>
                                        <div class="inline">
                                            Full Name*<br/>
                                            <input type="text" p="1" name="fName" />
                                            <label>As displayed in your Passport</label>
                                        </div>
                                        <div class="inline">
                                            Grender<br/>
                                            <select>
                                                <option p="1" value="m" name="title">M</option>
                                                <option p="1" value="f" name="title">F</option>
                                            </select>
                                        </div>
                                        <div class="inline">
                                            Brithday<br/>
                                            <input type="date" p="1" name="bod"/>
                                        </div>
                                        <div class="inline">
                                            ID<br/>
                                            <input type="text" p="1" name="id"/>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h3>Itinerary</h3><hr class="mainHr"/>
                                    <div id="itineDiv">
                                        <div id="goItinerary">
                                            <table>
                                                <tr>
                                                    <td><div class="inline"><label class="goFlight_takeoffDate">Mon, 1 Feb 2016</label></div></td>
                                                    <td><div class="inline"><label>Depart: </label><span class="goFlight_fromCity">Hong Kong</span> <span class="goFlight_fromAirport">International Airport Terminal 2</span> at <span class="goFlight_takeoffTime">18:15</span></div></td>
                                                    <td><div class="inline"><label>Arrive: </label><span class="goFlight_toCity">Tokyo</span> <span class="goFlight_toAirport">Haneda International Airport Terminal I</span> at <span class="goFlight_arriveTime">25:00</span></div></td>
                                                    <td><label class="goFlight_companyName">Fucking Airline</label> - <label class="goFlight_flightID">DL 689</label></td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="backItinerary">
                                            <table>
                                                <tr>
                                                    <td><div class="inline"><label class="backFlight_takeoffDate">Mon, 1 Feb 2016</label></div></td>
                                                    <td><div class="inline"><label>Depart: </label><span class="backFlight_fromCity">Hong Kong</span> <span class="backFlight_fromAirport">International Airport Terminal 2</span> at <span class="backFlight_takeoffTime">18:15</span></div></td>
                                                    <td><div class="inline"><label>Arrive: </label><span class="backFlight_toCity">Tokyo</span> <span class="backFlight_toAirport">Haneda International Airport Terminal I</span> at <span class="backFlight_arriveTime">25:00</span></div></td>
                                                    <td><label class="backFlight_companyName">Fucking Airline</label> - <label class="backFlight_flightID">DL 689</label></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div>
                                        <h3>Payment</h3><hr class="mainHr"/>
                                        <div class="inline">
                                            Full Name*<br/>
                                            <input type="text" name="fName" />
                                        </div>
                                        <div class="inline">
                                            Email*<br/>
                                            <input type="text" name="email"/>
                                            <label width="100%"> For receive the electronic receipt</label>
                                        </div>
                                        <div class="inline">
                                            Phone*<br/>
                                            <input type="text" name="tel"/>
                                        </div>
                                        <div class="inline">
                                            Credit Card*<br/>
                                            <input type="text" name="ccard"/>
                                        </div>
                                    </div>
                            </form>
                        </div>
                    </div>

                    <button type="button" id="cfPaymentBtn" class="btn btn-primary navbar-btn">Confirm Payment</button>
                </td>
                <td>
                    <div class="bookingSummaryDiv">
                        <label class="BS_title">Booking Summary</label>
                        <div class="BSD_contextDiv">
                            <h4>Departing</h4>
                            <span class="goFlight_takeoffDate">Fir, 11,Des 2015</span>
                            <br/>
                            <label>Flight: <span class="goFlight_flightID">------</span></label>
                            <table width="100%">
                                <tr>
                                    <th class="goFlight_fromCity">HKG</th>
                                    <th>To</th>
                                    <th class="goFlight_toCity">WUX</th>
                                </tr>
                                <tr>
                                    <td class="goFlight_takeoffTime">--:--</td>
                                    <td></td>
                                    <td class="goFlight_arriveTime">--:--</td>
                                </tr>
                            </table>
                            <hr>
                            <div id="returnFlight" class="backFlightInfo">
                                <h4>Returning</h4>
                                <span class="backFlight_takeoffDate">Fir, 11,Des 2015</span>
                                <br/>
                                <label>Flight: <span class="backFlight_flightID">------</span></label>
                                <table width="100%">
                                    <tr>
                                        <th class="backFlight_fromCity">HKG</th>
                                        <th>To</th>
                                        <th class="backFlight_toCity">WUX</th>
                                    </tr>
                                    <tr>
                                        <td class="backFlight_takeoffTime">--:--</td>
                                        <td></td>
                                        <td class="backFlight_arriveTime">--:--</td>
                                    </tr>
                                </table>
                                <hr>
                            </div>
                            <h4>Fees</h4>
                            <table class="feeTable">
                                <tr>
                                    <th>Departing</th>
                                    <th>HKD <span class="goFlight_totalPrice">359</span></th>
                                </tr>
                                <tr>
                                    <td>Fare</td>
                                    <td>HKD <span class="goFlight_price">359</span></td>
                                </tr>
                                <tr>
                                    <td>Tax</td>
                                    <td>HKD <span class="goFlight_tax">359</span></td>
                                </tr>
                            </table>
                            <table id="returnFee" class="feeTable">
                                <tr>
                                    <th>Returning</th>
                                    <th>HKD <span class="backFlight_totalPrice">359</span></th>
                                </tr>
                                <tr>
                                    <td>Fare</td>
                                    <td>HKD <span class="backFlight_price">359</span></td>    
                                </tr>
                                <tr>
                                    <td>Tax</td>
                                    <td>HKD <span class="backFlight_tax">359</span></td>    
                                </tr>
                            </table>
                            <hr>
                            <table class="totalFeeTalbe">
                                <tr><td>
                                        <h3>Total</h3>
                                    </td>
                                    <td><h3>HKD <span class="totalPrice">550</span></h3></td></tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </body>
</html>
